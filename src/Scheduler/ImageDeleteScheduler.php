<?phpnamespace Nemundo\Webcam\Scheduler;use Nemundo\App\Scheduler\Job\AbstractScheduler;use Nemundo\Core\File\File;use Nemundo\Core\File\UniqueFilename;use Nemundo\Core\Image\Cropping\ImageCropping;use Nemundo\Core\Image\Cropping\MaxImageCropping;use Nemundo\Core\Type\DateTime\DateTime;use Nemundo\Core\WebRequest\WebRequest;use Nemundo\Project\Path\TmpPath;use Nemundo\Webcam\Data\Image\Image;use Nemundo\Webcam\Data\Image\ImageCount;use Nemundo\Webcam\Data\Image\ImageDelete;use Nemundo\Webcam\Data\Image\ImageReader;use Nemundo\Webcam\Data\Webcam\WebcamReader;use Nemundo\Webcam\Data\Webcam\WebcamUpdate;class ImageDeleteScheduler extends AbstractScheduler{    protected function loadScheduler()    {        $this->overrideSetting = false;        $this->day = 1;        $this->consoleScript = true;        $this->scriptName = 'webcam-image-delete';    }    public function run()    {        $date = (new DateTime())->setNow()->minusDay(3);        $imageReader = new ImageReader();        $imageReader->filter->andEqualOrSmaller($imageReader->model->dateTime,$date->getIsoDate());        foreach ($imageReader->getData() as $imageRow) {            (new ImageDelete())->deleteById($imageRow->id);        }    }}